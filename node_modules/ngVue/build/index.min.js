!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("angular"),require("vue")):"function"==typeof define&&define.amd?define("ngVue",["exports","angular","vue"],n):n(e.ngVue=e.ngVue||{},e.angular,e.Vue)}(this,function(e,v,A){"use strict";var O="default"in v?v.default:v;A="default"in A?A.default:A;var u=/^(attrs|props|on|nativeOn|class|style|hook)$/,k=function(e){return e.reduce(function(e,n){var t,r,i,o,a;for(i in n)if(t=e[i],r=n[i],t&&u.test(i))if("class"===i&&("string"==typeof t&&(a=t,e[i]=t={},t[a]=!0),"string"==typeof r&&(a=r,n[i]=r={},r[a]=!0)),"on"===i||"nativeOn"===i||"hook"===i)for(o in r)t[o]=s(t[o],r[o]);else if(Array.isArray(t))e[i]=t.concat(r);else if(Array.isArray(r))e[i]=[t].concat(r);else for(o in r)t[o]=r[o];else e[i]=n[i];return e},{})};function s(e,n){return function(){e&&e.apply(this,arguments),n&&n.apply(this,arguments)}}function j(e,o){var a={props:"vProps",data:"vData",on:"vOn"}[e],n=new RegExp(a,"i"),t=o[a];if(O.isDefined(t))return t;var r,i=void 0;if(0===(i="htmlAttributes"===e?(r=o,Object.keys(r).filter(function(e){var n=/^(vProps|vData|vOn|vDirectives|watchDepth|ng)/i.test(e),t="$"===e[0];return!n&&!t&&"class"!==e&&"style"!==e})):Object.keys(o).filter(function(e){return n.test(e)})).length)return null;var u={};return i.forEach(function(e){if(a){var n=function(e,n){if(!new RegExp("^"+n).test(e))return null;var t,r=e.slice(n.length);return(t=r).charAt(0).toLowerCase()+t.slice(1)}(e,a);if(!n)return;u[n]=o[e],"vOn"===a&&(u[(i=n,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())]=o[e])}else{var t=o.$attr[e],r=void 0;r=""===o[e]?"'"+e+"'":o[e],u[t]=r}var i}),u}var E=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)};function p(t,r){return function(e){var n=e;r&&(n=v.isArray(e)?[].concat(i(e)):v.isObject(e)?E({},e):e),t(n)}}function V(e,n,t,r,i){var o=void 0;if("props"===i?o=e.props?e.props:e.data:"attrs"===i&&(o=e.htmlAttributes),o){var a,u,s,c=t.depth,f=t.quirk,l=(a=o,u=n,s=i,function(n){v.isString(a)?n(a,A.set.bind(A,u._v,s)):Object.keys(a).forEach(function(e){n(a[e],A.set.bind(A,u._v[s],e))})});switch(c){case"value":l(function(e,n){r.$watch(e,p(n,f),!0)});break;case"collection":l(function(e,n){r.$watchCollection(e,p(n,f))});break;case"reference":default:l(function(e,n){r.$watch(e,p(n,f))})}}}function x(n,t){if(!n)return null;if(O.isString(n))return t.$eval(n);var r={};return Object.keys(n).forEach(function(e){r[e]=t.$eval(n[e])}),r}var D={Object:function(e){return[e]},Array:function(e){return e},String:function(e){return e.split(/\s*,\s*/g).filter(Boolean).map(function(e){return{name:e}})}};var C=["class","style"];function o(e,i,n,t,r){if(!i.parent().length)throw new Error("ngVue components must have a parent tag or they will not render");var o,a,u,s,c=r.has("$ngVue")?r.get("$ngVue"):null,f={data:j("data",o=n),props:j("props",o),events:j("on",o),htmlAttributes:j("htmlAttributes",o)},l=(a=e,u=r,O.isFunction(a)?a:u.get(a)),v=function(e,n){var t=e.vDirectives;if(O.isUndefined(t))return null;var r,i=n.$eval(t),o=D[(r=i,r.constructor.name)];return o?o(i):null}(n,t)||[],p={_v:{props:x(f.props||f.data,t)||{},attrs:x(f.htmlAttributes,t)||{},special:(s=n,C.reduce(function(e,n){var t=s[n];return(t||s[s.$normalize("ng-"+n)])&&(e[n]=t),e},{}))}},d=function(e,t){var r=e.events;if(!r||!O.isObject(r))return null;var i={};return Object.keys(r).forEach(function(e){i[e]=t.$eval(r[e]);var n=i[e];O.isFunction(n)&&(i[e]=function(){var e=arguments;return t.$evalAsync(function(){return n.apply(null,e)})})}),i}(f,t)||{},h=!!c&&c.inQuirkMode(),y=c?c.getRootProps():{},g=y.mounted;y.mounted=function(){var e=i[0];if(e.innerHTML.trim()){var n=void 0;if(0===e.children.length){var t=document.createElement("span");t.innerHTML=e.innerHTML.trim(),n=t}else n=e.children[0];var r=this.$refs.__slot__;r.parentNode.replaceChild(n,r)}O.isFunction(g)&&g.apply(this,arguments)};var m,b,$,w={depth:n.watchDepth,quirk:h};V(f,p,w,t,"props"),V(f,p,w,t,"attrs"),m=p,b=i,$=t,Object.keys(m._v.special).forEach(function(n){$.$watch(function(){return b.attr(n)},function(e){A.set(m._v.special,n,e)})});var _=new A(E({name:"NgVue",el:i[0],data:p,render:function(e){return e(l,k([{directives:v},{props:p._v.props,on:d,attrs:p._v.attrs},p._v.special]),[e("span",{ref:"__slot__"})])}},y));t.$on("$destroy",function(){_.$destroy(),O.element(_.$el).remove(),_=null})}var n="undefined"!=typeof process&&void 0!==process.env&&("test"===process.env.BABEL_ENV||"production"===process.env.NODE_ENV),t="undefined"==typeof console||"function"!=typeof console.warn||n?void 0:console.warn.bind(console),r={warn:"function"==typeof t?t:function(){}};var a=O.module("ngVue",[]).run(function(){r.warn("camelCase syntax for events name (in $emit function) will be deprecated in a future release.\nPlease, make sure to use kebab-case syntax when emitting events from Vue.")}).directive("vueComponent",["$injector",function(r){return{restrict:"E",link:function(e,n,t){o(t.name,n,t,e,r)}}}]).factory("createVueComponent",["$injector",function(i){return function(r,e){var n={restrict:"E",link:function(e,n,t){o(r,n,t,e,i)}};return O.extend(n,e)}}]);e.ngVue=a,Object.defineProperty(e,"__esModule",{value:!0})});
